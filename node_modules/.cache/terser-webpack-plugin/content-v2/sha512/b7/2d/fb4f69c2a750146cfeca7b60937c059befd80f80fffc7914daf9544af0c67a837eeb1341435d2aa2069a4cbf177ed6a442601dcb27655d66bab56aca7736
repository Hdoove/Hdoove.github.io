{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{331:function(t,e,a){\"use strict\";a.r(e);var r=a(28),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h3\",{attrs:{id:\"react生命周期\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#react生命周期\"}},[t._v(\"#\")]),t._v(\" React生命周期\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"挂载卸载\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#挂载卸载\"}},[t._v(\"#\")]),t._v(\" 挂载卸载\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_1-constructor\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-constructor\"}},[t._v(\"#\")]),t._v(\" 1.constructor\")]),t._v(\" \"),a(\"p\",[t._v(\"加载的时候调用一次，可以初始化state\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_2-componentdidmount\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-componentdidmount\"}},[t._v(\"#\")]),t._v(\" 2.componentDidMount\")]),t._v(\" \"),a(\"p\",[t._v(\"组件第一次渲染完成，此时dom节点已经生成，可以在这里调用ajax请求，返回数据setState后组件会重新渲染\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_3-componentwillunmount\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-componentwillunmount\"}},[t._v(\"#\")]),t._v(\" 3.componentWillUnmount\")]),t._v(\" \"),a(\"p\",[t._v(\"完成组件的卸载和数据的销毁\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_4-shouldcomponentupdate-nextprops-nextstate\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-shouldcomponentupdate-nextprops-nextstate\"}},[t._v(\"#\")]),t._v(\" 4.shouldComponentUpdate(nextProps, nextState)\")]),t._v(\" \"),a(\"p\",[t._v(\"这个生命周期钩子是一个开关，判断是否需要更新，主要用来优化性能。\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_5-componentdidupdate\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-componentdidupdate\"}},[t._v(\"#\")]),t._v(\" 5.componentDidUpdate\")]),t._v(\" \"),a(\"p\",[t._v(\"组件更新完毕后，react只会在第一次初始化成功会进入componentDidmount,之后每次重新渲染后都会进入这个生命周期，这里可以拿到prevProps和prevState，即更新前的props和state。\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_6-render\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-render\"}},[t._v(\"#\")]),t._v(\" 6.render\")]),t._v(\" \"),a(\"p\",[t._v(\"render函数会插入jsx生成的dom结构，react会生成一份虚拟dom树，在每一次组件更新时，在此react会通过其diff算法比较更新前后的新旧DOM树，比较以后，找到最小的有差异的DOM节点，并重新渲染。\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_7-getderivedstatefromprops-nextprops-prevstate\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-getderivedstatefromprops-nextprops-prevstate\"}},[t._v(\"#\")]),t._v(\" 7.getDerivedStateFromProps(nextProps, prevState)\")]),t._v(\" \"),a(\"p\",[t._v(\"用来取代componentWillReceiveProps，静态方法，根据父组件传来的props按需更新自己的state\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_8-getsnapshotbeforeupdate-prevprops-prevstate\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-getsnapshotbeforeupdate-prevprops-prevstate\"}},[t._v(\"#\")]),t._v(\" 8.getSnapshotBeforeUpdate(prevProps, prevState)\")]),t._v(\" \"),a(\"p\",[t._v(\"返回值作为componentDidUpdate的第三个参数\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_9-componentdidupdate-prevprops-prevstate-snapshot\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_9-componentdidupdate-prevprops-prevstate-snapshot\"}},[t._v(\"#\")]),t._v(\" 9.componentDidUpdate(prevProps, prevState, snapshot)\")]),t._v(\" \"),a(\"p\",[t._v(\"这是组件更新之后触发的生命周期钩子。\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_10-componentdidcatch\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_10-componentdidcatch\"}},[t._v(\"#\")]),t._v(\" 10.componentDidCatch\")]),t._v(\" \"),a(\"p\",[t._v(\"它主要用来捕获错误并进行相应处理\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_1-挂在阶段\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-挂在阶段\"}},[t._v(\"#\")]),t._v(\" 1.挂在阶段\")]),t._v(\" \"),a(\"p\",[t._v(\"constructor -> getDerivedStateFromProps -> render -> componentDidMount\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_2-更新阶段\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-更新阶段\"}},[t._v(\"#\")]),t._v(\" 2.更新阶段\")]),t._v(\" \"),a(\"p\",[t._v(\"getDerivedStateFromProps -> shouldComponentUpdate -> render ->  getSnapshotBeforeUpdate -> componentDidUpdate\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"_3-卸载阶段\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-卸载阶段\"}},[t._v(\"#\")]),t._v(\" 3.卸载阶段\")]),t._v(\" \"),a(\"p\",[t._v(\"componentWillUnmount\")])])}),[],!1,null,null,null);e.default=s.exports}}]);","extractedComments":[]}