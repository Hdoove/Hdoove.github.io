### 从输入 `url` 到显示都发生了什么 ？

#### 1.`DNS` 解析， 将域名解析为正确的 `IP` 地址

- 浏览器 `DNS` 缓存
- 系统 `DNS` 缓存
- 路由器 `DNS` 缓存
- 网络运营商 `DNS` 缓存
- 递归搜索： music.hdove.top

   - .top 域名下进行 `DNS`解析
   - .hdove 域名下进行 `DNS`解析
   - music 域名下进行 `DNS`解析
   - 出错了

#### 2. `TCP` 连接

- 第一次握手， 由浏览器发起，告诉服务器我要发送请求了
- 第二次握手， 由服务器发起，告诉浏览器我准备好了
- 第三次握手， 由浏览器发起，告诉服务器我马上就要发送了

#### 3.发送请求

请求： 请求行、请求头、请求体

#### 4.响应请求

响应： 响应行、响应头、响应体

#### 5.渲染页面

- 遇见 `HTML` 标记， 浏览器调用 `HTML` 解析器解析成 `Token` 并构建 `DOM` 树
- 遇见 `style/link` 标记， 浏览器调用 `CSS` 解析器构建 `CSSOM` 树
- 遇见 `script` 标记，调用 `javascript` 解析器， 处理 `script` 代码
- 将 `DOM` 树和 `CSSOM`树 合并成渲染树
- 通过回流， 获取每个节点的位置信息
- 通过重绘，进行绘制

#### 6.断开连接 四次挥手

- 第一次挥手， 由浏览器发起，告诉服务器我要断开连接了
- 第二次挥手， 由服务器发起，告诉浏览器还有几个东西没传完，稍等，等我通知
- 第三次挥手， 由服务器发起，告诉浏览器我传完了，你断开吧
- 第四次挥手， 由浏览器发起，告诉服务器我准备关闭了，你也准备吧